<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>ChronoBase – Montres</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">
<style>
/* ---------------------- VARIABLES ---------------------- */
:root {
  --gold-gradient: linear-gradient(90deg,#d4af37,#f5d98c,#c8a951);
  /* Thème sombre */
  --bg-main: radial-gradient(circle at top,#1a1a1a 0%,#0b0b0b 60%,#000 100%);
  --bg-header: #0b0b0b;
  --bg-card: linear-gradient(180deg,#111,#0c0c0c);
  --bg-footer: #0b0b0b;
  --text-main: #d4af37;
  --text-secondary: #c1a96b;
  --border-color: rgba(212,175,55,0.2);
}
/* Thème clair */
.light-theme {
  --bg-main: #ffffff;
  --bg-header: #ffffff;
  --bg-card: #ffffff;
  --bg-footer: #ffffff;
  --text-main: #000000;
  --text-secondary: #444444;
  --border-color: rgba(0,0,0,0.2);
}
/* ---------------------- GLOBAL ---------------------- */
body{
  margin:0;padding:0;font-family:'Montserrat',sans-serif;
  background:var(--bg-main);
  color:var(--text-main);
  font-weight:300;overflow-x:hidden;
}
.gold-text{
  background:var(--gold-gradient);
  -webkit-background-clip:text;color:transparent;
  animation:shine 6s infinite linear;background-size:200%;
}
/* ---------------------- HEADER ---------------------- */
header{
  width:100%;padding:12px 0;border-bottom:1px solid var(--border-color);
  background:var(--bg-header);position:fixed;top:0;left:0;z-index:10;
}
.header-container{
  max-width:1200px;margin:auto;display:flex;justify-content:space-between;
  align-items:center;padding:0 20px;
}
.header-left {
  display: flex;
  align-items: center;
  gap: 15px;
}
nav a{
  margin-left:30px;text-decoration:none;color:var(--text-main);
  font-size:14px;letter-spacing:1px;text-transform:uppercase;cursor:pointer;
}
nav a:hover{color:#f5d98c}
/* ---------------------- SWITCH MODE SOMBRE/CLAIR ---------------------- */
#theme-switch {
  width: 50px;
  height: 26px;
  background: var(--border-color);
  border-radius: 20px;
  position: relative;
  cursor: pointer;
  transition: background 0.3s;
  display: flex;
  align-items: center;
  padding: 3px;
}
.switch-handle {
  width: 20px;
  height: 20px;
  background: var(--text-main);
  border-radius: 50%;
  transition: transform 0.3s, background 0.3s;
}
.light-theme #theme-switch .switch-handle {
  transform: translateX(24px);
  background: #000;
}
/* ---------------------- FILTRES ---------------------- */
#filters{
max-width:1200px;margin:140px auto 20px;
  display:flex;gap:20px;justify-content:center;
}
select{
  padding:10px 15px;border-radius:8px;
  background:var(--bg-card);
  color:var(--text-main);
  border:1px solid var(--border-color);
}
/* ---------------------- GRILLE DES MONTRES ---------------------- */
.watch-grid{
  max-width:1200px;margin:auto;
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
  gap:30px;
  padding:20px 20px 80px;
}
.watch-card{
  background:var(--bg-card);
  border:1px solid var(--border-color);
  border-radius:12px;
  padding:20px;
  cursor:pointer;
  transition:0.2s;
  display:flex;
  flex-direction:column;
  height:100%;
}
.watch-card:hover{transform:scale(1.03)}
.watch-card img{
  width:100%;
  height:200px;
  object-fit:cover;
  border-radius:8px;
}
.watch-card p{
  margin-top:auto;
}

/* --- BOUTON RETOUR EN HAUT --- */
#backToTop {
  position: fixed;
  bottom: 30px;
  right: 30px;
  width: 50px;
  height: 50px;
  background: var(--gold-gradient);
  color: #000; /* Texte noir pour trancher sur l'or */
  border: none;
  border-radius: 50%;
  font-size: 24px;
  font-weight: bold;
  cursor: pointer;
  display: none; /* Caché par défaut */
  z-index: 1000;
  box-shadow: 0 4px 15px rgba(0,0,0,0.3);
  transition: transform 0.3s, opacity 0.3s;
}

#backToTop:hover {
  transform: scale(1.1);
}

/* Adaptation pour le mode clair si besoin */
.light-theme #backToTop {
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}
  
</style>
</head>
<body>
<header>
  <div class="header-container">
    <div class="header-left">
      <h2 class="gold-text">ChronoBase</h2>
      <!-- Switch thème -->
      <div id="theme-switch" onclick="toggleTheme()">
        <div class="switch-handle"></div>
      </div>
    </div>
    <nav>
      <a href="index.html">Accueil</a>
      <a href="montre.html">Les montres</a>
      <a href="propos.html">À propos</a>
    </nav>
  </div>
</header>
<h1 class="gold-text" style="text-align:center;margin-top:120px">Toutes les montres</h1>
<div id="filters">
  <select id="brand-filter">
    <option value="all">Toutes les marques</option>
  </select>
  <select id="sort-filter">
    <option value="none">Tri : Aucun</option>
    <option value="year-asc">Année : plus ancienne → plus récente</option>
    <option value="year-desc">Année : plus récente → plus ancienne</option>
    <option value="brand-az">Marque : A → Z</option>
    <option value="brand-za">Marque : Z → A</option>
  </select>
  <select id="limit-filter">
  <option value="10">Afficher 10</option>
  <option value="25" selected>Afficher 25</option>
  <option value="50">Afficher 50</option>
</select>
</div>
<div class="watch-grid" id="watch-grid"></div>
<!-- 1. Créer le tableau global -->
<script>
window.WATCHES = [];
</script>
<!-- 2. Charger les données des montres -->
<script src="brands/lip.js"></script>
<script src="brands/rolex.js"></script>
<script src="brands/swatch.js"></script>
<script src="brands/omega.js"></script>
<script src="brands/yema.js"></script>
<script src="brands/tissot.js"></script>
<script src="brands/orient.js"></script>
<script src="brands/longines.js"></script>
<script src="brands/iwc.js"></script>
<script src="brands/breitling.js"></script>
<!-- 3. Charger les fonctions -->
<script src="js/filters.js"></script>
<script src="js/ui-watches.js"></script>
<!-- 4. Script principal -->
<script>
function init(){
  populateBrandFilter(window.WATCHES);
  // On appelle applyFilters au lieu de displayWatches directement 
  // pour respecter les valeurs par défaut des menus
  applyFilters(); 
}
// Ajoutez l'écouteur d'événement pour le nouveau filtre
document.getElementById("brand-filter").addEventListener("change", applyFilters);
document.getElementById("sort-filter").addEventListener("change", applyFilters);
document.getElementById("limit-filter").addEventListener("change", applyFilters);
function applyFilters(){
  let list = [...window.WATCHES];
  const brand = document.getElementById("brand-filter").value;
  const sort = document.getElementById("sort-filter").value;
  const limit = parseInt(document.getElementById("limit-filter").value); // Toujours un nombre maintenant
  // 1. Filtrage par marque
  if(brand !== "all") list = filterByBrand(brand, list);
  // 2. Tri
  if(sort === "year-asc") list = sortByYearAsc(list);
  if(sort === "year-desc") list = sortByYearDesc(list);
  if(sort === "brand-az") list = sortByBrandAZ(list);
  if(sort === "brand-za") list = sortByBrandZA(list);
  // 3. Limitation stricte
  // On ne garde que les X premiers éléments
  const limitedList = list.slice(0, limit);
  displayWatches(limitedList);
}
init();
</script>
<!-- ---------------------- SCRIPT THEME ---------------------- -->
<script>
function toggleTheme() {
  document.body.classList.toggle("light-theme");
  const isLight = document.body.classList.contains("light-theme");
  localStorage.setItem("theme", isLight ? "light" : "dark");
}
(function() {
  const saved = localStorage.getItem("theme");
  if (saved === "light") {
    document.body.classList.add("light-theme");
  }
})();
</script> 
<script>
const backToTopBtn = document.getElementById("backToTop");

// Détecte le défilement de la page
window.onscroll = function() {
  // Affiche le bouton si on descend de plus de 300px
  if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
    backToTopBtn.style.display = "block";
  } else {
    backToTopBtn.style.display = "none";
  }
};

// Action au clic : remonter de manière fluide
backToTopBtn.onclick = function() {
  window.scrollTo({
    top: 0,
    behavior: 'smooth'
  });
};
</script>
<button id="backToTop" title="Retour en haut">↑</button>
  
</body>
</html>
