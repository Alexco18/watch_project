<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>ChronoBase – Détails montre</title>

  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">

  <style>
    body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      background: radial-gradient(circle at top, #1a1a1a 0%, #0b0b0b 60%, #000 100%);
      color: #d4af37;
    }

    header {
      position: fixed;
      top: 0;
      width: 100%;
      background: #0b0b0b;
      border-bottom: 1px solid rgba(212,175,55,0.2);
      padding: 12px 0;
      z-index: 10;
    }

    .header-container {
      max-width: 1200px;
      margin: auto;
      padding: 0 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .watch-page {
      max-width: 1200px;
      margin: auto;
      padding: 140px 20px 80px;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 50px;
    }

    .watch-gallery img {
      width: 100%;
      border-radius: 12px;
      margin-bottom: 15px;
      border: 1px solid rgba(212,175,55,0.2);
    }

    .watch-details h1 {
      font-size: 42px;
      font-weight: 300;
      margin-bottom: 20px;
    }

    .watch-details p {
      color: #c1a96b;
      line-height: 1.7;
      margin-bottom: 30px;
    }

    .watch-specs {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .watch-specs li {
      padding: 10px 0;
      border-bottom: 1px solid rgba(212,175,55,0.2);
      display: flex;
      justify-content: space-between;
    }

    .watch-price {
      font-size: 26px;
      margin-top: 30px;
    }

    @media (max-width: 900px) {
      .watch-page {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>

<body>

<header>
  <div class="header-container">
    <h2>ChronoBase</h2>
    <nav>
      <!-- Retour à la page précédente (montres + filtres conservés) -->
      <a onclick="history.back()" style="cursor:pointer;color:#d4af37;text-decoration:none;">Retour</a>
    </nav>
  </div>
</header>

<section class="watch-page">

  <!-- GALERIE -->
  <div class="watch-gallery" id="gallery">
    <!-- Images insérées dynamiquement -->
  </div>

  <!-- DÉTAILS -->
  <div class="watch-details">
    <h1 id="watch-title"></h1>

    <p id="watch-description">
      <!-- Description dynamique -->
    </p>

    <ul class="watch-specs" id="specs">
      <!-- Spécifications dynamiques -->
    </ul>

    <div class="watch-price" id="price">
      <!-- Prix dynamique -->
    </div>
  </div>

</section>

<!-- Charger les données des montres -->
<script src="brands/lip.js"></script>
<script src="brands/rolex.js"></script>
<!-- Ajoute omega.js si tu en as un -->
<!-- <script src="brands/omega.js"></script> -->

<script>
/* ------------------------------
   RÉCUPÉRATION DE L’ID DANS L’URL
--------------------------------*/
const params = new URLSearchParams(window.location.search);
const id = params.get("id");

/* ------------------------------
   RÉCUPÉRATION DE LA MONTRE
--------------------------------*/
const watch = window.WATCHES.find(w => w.id === id);

if (!watch) {
  document.body.innerHTML = "<h1 style='padding:150px;text-align:center;'>Montre introuvable</h1>";
  throw new Error("Montre introuvable : " + id);
}

/* ------------------------------
   AFFICHAGE DES INFORMATIONS
--------------------------------*/
document.getElementById("watch-title").textContent = `${watch.brand} – ${watch.name} (${watch.year})`;

// Description par défaut si tu n’en as pas encore
document.getElementById("watch-description").textContent =
  watch.description || "Aucune description disponible pour cette montre.";

// Spécifications (si tu veux en ajouter dans tes fichiers brand)
const specs = watch.specs || [
  { label: "Boîtier", value: "Acier 40 mm" },
  { label: "Mouvement", value: "Automatique" },
  { label: "Réserve de marche", value: "72 heures" },
  { label: "Étanchéité", value: "100 m" },
  { label: "Bracelet", value: "Acier" }
];

document.getElementById("specs").innerHTML = specs
  .map(s => `<li><span>${s.label}</span><span>${s.value}</span></li>`)
  .join("");

// Prix (optionnel)
document.getElementById("price").innerHTML =
  watch.price ? `Prix estimé : <strong>${watch.price}</strong>` : "";

// Galerie (si tu veux plusieurs images)
const gallery = document.getElementById("gallery");

if (watch.images && watch.images.length > 0) {
  gallery.innerHTML = watch.images
    .map(img => `<img src="${img}" alt="${watch.name}">`)
    .join("");
} else {
  gallery.innerHTML = `<img src="${watch.img}" alt="${watch.name}">`;
}
</script>

</body>
</html>
