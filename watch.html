<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>ChronoBase ‚Äì D√©tails montre</title>

  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">

  <style>
    body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      background: radial-gradient(circle at top, #1a1a1a 0%, #0b0b0b 60%, #000 100%);
      color: #d4af37;
    }

    header {
      position: fixed;
      top: 0;
      width: 100%;
      background: #0b0b0b;
      border-bottom: 1px solid rgba(212,175,55,0.2);
      padding: 12px 0;
      z-index: 10;
    }

    .header-container {
      max-width: 1200px;
      margin: auto;
      padding: 0 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .watch-page {
      max-width: 1200px;
      margin: auto;
      padding: 140px 20px 80px;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 50px;
    }

    .watch-gallery img {
      width: 100%;
      border-radius: 12px;
      margin-bottom: 15px;
      border: 1px solid rgba(212,175,55,0.2);
    }

    .watch-details h1 {
      font-size: 42px;
      font-weight: 300;
      margin-bottom: 20px;
    }

    .watch-details p {
      color: #c1a96b;
      line-height: 1.7;
      margin-bottom: 30px;
    }

    .watch-specs {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .watch-specs li {
      padding: 10px 0;
      border-bottom: 1px solid rgba(212,175,55,0.2);
      display: flex;
      justify-content: space-between;
    }

    .watch-price {
      font-size: 26px;
      margin-top: 30px;
    }

    @media (max-width: 900px) {
      .watch-page {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>

<body>

<header>
  <div class="header-container">
    <h2>ChronoBase</h2>
    <nav>
      <a onclick="history.back()" style="cursor:pointer;color:#d4af37;text-decoration:none;">Retour</a>
    </nav>
  </div>
</header>

<section class="watch-page">

  <div class="watch-gallery" id="gallery"></div>

  <div class="watch-details">
    <h1 id="watch-title"></h1>
    <p id="watch-description"></p>
    <ul class="watch-specs" id="specs"></ul>
    <div class="watch-price" id="price"></div>
  </div>

</section>

<!-- üî• CHARGEMENT DES DONN√âES AVANT LE SCRIPT PRINCIPAL -->
<script src="brands/lip.js"></script>
<script src="brands/rolex.js"></script>
<!-- ajoute omega.js si tu en as un -->
<!-- <script src="brands/omega.js"></script> -->

<!-- üî• SCRIPT PRINCIPAL (doit √™tre APR√àS les brands) -->
<script>
console.log("WATCHES charg√©es :", window.WATCHES);

const params = new URLSearchParams(window.location.search);
const id = params.get("id");
console.log("ID re√ßu :", id);

const watch = window.WATCHES.find(w => w.id === id);
console.log("Montre trouv√©e :", watch);

if (!watch) {
  document.body.innerHTML = "<h1 style='padding:150px;text-align:center;'>Montre introuvable</h1>";
  throw new Error("Montre introuvable : " + id);
}

document.getElementById("watch-title").textContent =
  `${watch.brand} ‚Äì ${watch.name} (${watch.year})`;

document.getElementById("watch-description").textContent =
  watch.description || "Aucune description disponible.";

document.getElementById("specs").innerHTML = (watch.specs || [])
  .map(s => `<li><span>${s.label}</span><span>${s.value}</span></li>`)
  .join("");

document.getElementById("price").innerHTML =
  watch.price ? `Prix estim√© : <strong>${watch.price}</strong>` : "";

const gallery = document.getElementById("gallery");

if (watch.images && watch.images.length > 0) {
  gallery.innerHTML = watch.images
    .map(img => `<img src="${img}" alt="${watch.name}">`)
    .join("");
} else {
  gallery.innerHTML = `<img src="${watch.img}" alt="${watch.name}">`;
}
</script>

</body>
</html>
